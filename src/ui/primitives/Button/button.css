.button {
  --border-radius: var(--sds-size-radius-sm);
  align-items: center;
  box-shadow: inset 0 0 0 var(--sds-responsive-border-width)
    var(--button-border-color);
  border-radius: var(--border-radius);
  background: var(--button-background-color);
  color: var(--button-color);
  cursor: pointer;
  display: inline-flex;
  font: var(--button-font);
  gap: var(--sds-size-gap-sm);
  justify-content: center;
  line-height: 1;
  padding: var(--button-padding-y) var(--button-padding-x);
  position: relative;
  white-space: nowrap;

  > .icon {
    --icon-color: var(--button-color);
  }
}

.button-size-sm {
  --button-font: var(--sds-font-body-small);
  --button-padding-x: var(--sds-size-padding-sm);
  --button-padding-y: var(--sds-size-padding-sm);

  > .icon {
    --icon-diameter: var(--sds-typography-scale-02);
  }
}

.button-size-md {
  --button-font: var(--sds-font-body);
  --button-padding-x: var(--sds-size-padding-md);
  --button-padding-y: var(--sds-size-padding-md);

  > .icon {
    --icon-diameter: var(--sds-typography-scale-03);
  }
}

.button[data-focus-visible] {
  outline: none;
  --offset: calc(var(--sds-responsive-border-width) * 2);
  &::before {
    content: "";
    border-radius: calc(var(--border-radius) + var(--offset));
    bottom: calc(-1 * var(--offset));
    box-shadow: 0 0 0 var(--global-focus-ring-size)
      var(--global-focus-ring-color);
    left: calc(-1 * var(--offset));
    position: absolute;
    right: calc(-1 * var(--offset));
    top: calc(-1 * var(--offset));
  }
}

.button-scheme-primary {
  &.button-variant-default {
    --button-background-color: var(--sds-color-bg-brand-default);
    --button-border-color: transparent;
    --button-color: var(--sds-color-text-brand-onbrand);
    &[data-hovered]:not([data-disabled]) {
      --button-background-color: var(--sds-color-bg-brand-hover);
      --button-border-color: var(--sds-color-border-brand-default);
    }
  }
  &.button-variant-secondary {
    --button-background-color: var(--sds-color-bg-brand-secondary);
    --button-border-color: transparent;
    --button-color: var(--sds-color-text-brand-onbrand-secondary);
    &[data-hovered]:not([data-disabled]) {
      --button-background-color: var(--sds-color-bg-brand-secondary-hover);
      --button-border-color: var(--sds-color-border-brand-secondary-hover);
    }
  }
  &.button-variant-stroke {
    --button-background-color: transparent;
    --button-border-color: var(--sds-color-border-brand-default);
    --button-color: var(--sds-color-text-brand-default);
    &[data-hovered]:not([data-disabled]) {
      --button-background-color: var(--sds-color-bg-brand-tertiary);
      --button-border-color: var(--sds-color-border-brand-default);
    }
  }
  &.button-variant-subtle {
    --button-background-color: transparent;
    --button-border-color: transparent;
    --button-color: var(--sds-color-text-brand-default);
    &[data-hovered]:not([data-disabled]) {
      --button-background-color: var(--sds-color-bg-brand-tertiary);
    }
  }
}

.button-scheme-danger {
  &.button-variant-default {
    --button-background-color: var(--sds-color-bg-danger-default);
    --button-border-color: transparent;
    --button-color: var(--sds-color-text-danger-ondanger);
    &[data-hovered]:not([data-disabled]) {
      --button-background-color: var(--sds-color-bg-danger-hover);
      --button-border-color: var(--sds-color-border-danger-default);
    }
  }
  &.button-variant-secondary {
    --button-background-color: var(--sds-color-bg-danger-secondary);
    --button-border-color: transparent;
    --button-color: var(--sds-color-text-danger-secondary);
    &[data-hovered]:not([data-disabled]) {
      --button-background-color: var(--sds-color-bg-danger-secondary-hover);
      --button-border-color: var(--sds-color-border-danger-secondary-hover);
    }
  }
  &.button-variant-stroke {
    --button-background-color: transparent;
    --button-border-color: var(--sds-color-border-danger-default);
    --button-color: var(--sds-color-text-danger-default);
    &[data-hovered]:not([data-disabled]) {
      --button-background-color: var(--sds-color-bg-danger-secondary);
      --button-border-color: var(--sds-color-border-danger-default);
    }
  }
  &.button-variant-subtle {
    --button-background-color: transparent;
    --button-border-color: transparent;
    --button-color: var(--sds-color-text-danger-default);
    &[data-hovered]:not([data-disabled]) {
      --button-background-color: var(--sds-color-bg-danger-secondary);
    }
  }
}

.button[data-disabled] {
  cursor: default;
  pointer-events: none;
  --button-background-color: var(--sds-color-bg-disabled-default);
  --button-border-color: var(--sds-color-border-disabled-default);
  --button-color: var(--sds-color-text-disabled-default);

  &.button-variant-stroke {
    --button-border-color: var(--sds-color-border-disabled-default);
  }
  &.button-variant-subtle {
    --button-background-color: var(--sds-color-bg-default-default);
    --button-border-color: transparent;
  }
}

.button-group {
  align-items: center;
  display: flex;
  gap: var(--sds-size-gap-md);

  &.button-group-align-start {
    justify-content: flex-start;
  }
  &.button-group-align-center {
    justify-content: center;
  }
  &.button-group-align-end {
    justify-content: flex-end;
  }
  &.button-group-align-justify {
    > .button {
      flex: 1;
    }
  }
}
